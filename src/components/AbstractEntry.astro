---
interface Props {
  href: string;
  kicker: string;
  title: string;
  outcome: string;
  description?: string;
  date?: string;
  status?: string;
  class?: string;
}

const { href, kicker, title, outcome, description, date, status, class: className = '' } = Astro.props;

function formatDate(dateString: string): string {
  const d = new Date(dateString);
  return d.toLocaleDateString('en-US', { year: 'numeric', month: 'short' });
}
---

<article class:list={['abstract-entry', className]}>
  <a href={href} class="entry-link">
    <div class="entry-accent"></div>
    <div class="entry-content">
      <div class="entry-header">
        <span class="entry-kicker">{kicker}</span>
        {date && <span class="entry-date">{formatDate(date)}</span>}
      </div>
      <h3 class="entry-title">{title}</h3>
      <p class="entry-outcome">{outcome}</p>
      {description && <p class="entry-description">{description}</p>}
    </div>
  </a>
</article>

<style>
  .abstract-entry {
    position: relative;
  }

  .entry-link {
    display: flex;
    gap: var(--space-4);
    text-decoration: none;
    color: inherit;
  }

  .entry-accent {
    flex-shrink: 0;
    width: 2px;
    background-color: var(--rule);
    transition: background-color var(--transition-fast);
  }

  .entry-link:hover .entry-accent {
    background-color: var(--accent);
  }

  .entry-content {
    flex: 1;
    padding: var(--space-1) 0;
  }

  .entry-header {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: var(--space-4);
    margin-bottom: var(--space-2);
  }

  .entry-kicker {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    font-weight: var(--weight-medium);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
    color: var(--accent);
  }

  .entry-date {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    color: var(--muted);
  }

  .entry-title {
    font-family: var(--font-heading);
    font-size: var(--text-lg);
    font-weight: var(--weight-semibold);
    letter-spacing: var(--tracking-tight);
    color: var(--text);
    margin: 0 0 var(--space-2);
    line-height: var(--leading-tight);
    transition: color var(--transition-fast);
  }

  .entry-link:hover .entry-title {
    color: var(--accent);
  }

  .entry-outcome {
    font-family: var(--font-heading);
    font-size: var(--text-base);
    font-weight: var(--weight-medium);
    color: var(--text);
    margin: 0;
    line-height: var(--leading-tight);
  }

  .entry-description {
    font-family: var(--font-body);
    font-size: var(--text-sm);
    color: var(--text-secondary);
    margin: var(--space-2) 0 0;
    line-height: var(--leading-normal);
  }
</style>
